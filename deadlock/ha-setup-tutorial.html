<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>26.6. High Availability setup tutorial -  - The Neo4j Manual v2.2-SNAPSHOT</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="prev" href="ha-upgrade-guide.html" title="26.5. Upgrade of a Neo4j HA Cluster" /><link rel="next" href="ha-rest-info.html" title="26.7. REST endpoint for HA status information" /><link rel="copyright" href="ln-d5e39.html" title="License: Creative Commons 3.0" /><meta name="Section-title" content="26.6. High Availability setup tutorial" /><script type="text/javascript">
      //The id for tree cookie
      var treeCookieId = "treeview-76013";
      var language = "en";
      var w = new Object();
      //Localization
      txt_filesfound = 'Results';
      txt_enter_at_least_1_char = "You must enter at least one character.";
      txt_browser_not_supported = "JavaScript is disabled on your browser. Please enable JavaScript to enjoy all the features of this site.";
      txt_please_wait = "Please wait. Search in progress...";
      txt_results_for = "Results for: ";
    </script><meta name="viewport" content="width=device-width, initial-scale=1" /><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" /><link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/themes/redmond/jquery-ui.min.css" /><link rel="stylesheet" type="text/css" href="common/jquery/treeview/jquery.treeview.css" /><link rel="stylesheet" type="text/css" href="common/css/positioning.css" /><link rel="stylesheet" type="text/css" href="common/css/style.css" /><!--[if IE]>
  <link rel="stylesheet" type="text/css" href="../common/css/ie.css"/>
  <![endif]--><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" /><script type="text/javascript" src="common/browserDetect.js"></script><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js"></script><script type="text/javascript" src="common/jquery/jquery.highlight.js"></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script type="text/javascript" src="common/jquery/treeview/jquery.treeview.min.js"></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/1.4.11/jquery.scrollTo.min.js"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><script type="text/javascript" src="common/main.js"></script><script type="text/javascript" src="search/l10n.js"></script><script type="text/javascript" src="search/htmlFileInfoList.js"></script><script type="text/javascript" src="common/search.js"></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"></script><script type="text/javascript" src="search/index-1.js"></script><script type="text/javascript" src="search/index-2.js"></script><script type="text/javascript" src="search/index-3.js"></script>


<!-- favicon -->

<link rel="shortcut icon" href="common/images/favicon.ico" />

<!-- fonts -->

<link href='//fonts.googleapis.com/css?family=Ubuntu+Mono|PT+Sans:400,700,400italic' rel='stylesheet' type='text/css' />

<!-- Syntax Highlighter -->

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.10.0/codemirror.min.css" />
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.10.0/theme/neo.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.10.0/codemirror.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.10.0/addon/runmode/runmode.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.10.0/mode/javascript/javascript.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.10.0/mode/shell/shell.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.10.0/mode/sql/sql.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.10.0/mode/xml/xml.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.10.0/mode/clike/clike.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.10.0/mode/cypher/cypher.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.10.0/mode/properties/properties.min.js"></script>

<script src="js/colorize.js"></script>
 
<script type="text/javascript">
  $(function (){
    CodeMirror.colorize();
  });
</script>

<!-- Cypher Console -->

<script type="text/javascript" src="js/console.js"></script>
<script type="text/javascript" src="js/cypherconsole.js"></script>

<!-- Version -->
<script type="text/javascript" src="js/version.js"></script>
<script type="text/javascript" src="js/versionswitcher.js"></script>

<!-- Discuss -->
<script type="text/javascript" src="js/mutate.min.js"></script>
<script type="text/javascript" src="js/disqus.js"></script>

<script type="text/javascript">
    /*@cc_on @*/
    /*@
     $( '#content' ).addClass( 'internet-explorer' );
     @*/
</script>


</head><body><div id="header"><a href="index.html" id="logo"><img src="common/images/logo-neo4j.svg" alt="" /></a><h1><span id="book-title">The Neo4j Manual v2.2-SNAPSHOT</span><span>26.6. High Availability setup tutorial</span></h1><div id="navheader"><!----><div id="navLinks"><span><a id="showHideButton" href="#" class="pointLeft" tabindex="5" title="Show/Hide TOC tree"><i class="fa fa-columns"></i> Contents
            </a></span><span><a accesskey="p" id="navLinkPrevious" tabindex="5" href="ha-upgrade-guide.html"><i class="fa fa-arrow-circle-left"></i> Prev</a></span><span><a accesskey="u" id="navLinkUp" tabindex="5" href="ha.html">Up <i class="fa fa-arrow-circle-up"></i></a></span><span><a accesskey="n" id="navLinkNext" tabindex="5" href="ha-rest-info.html">Next <i class="fa fa-arrow-circle-right"></i></a></span></div></div></div><div id="content"><section class="section" id="ha-setup-tutorial"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both">26.6. High Availability setup tutorial</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="ha-setup-tutorial.html#_background_2">Background</a></span></li><li><span class="section"><a href="ha-setup-tutorial.html#_getting_started_setting_up_a_production_cluster">Getting started: Setting up a production cluster</a></span></li><li><span class="section"><a href="ha-setup-tutorial.html#ha-local-cluster">Alternative setup: Creating a local cluster for testing</a></span></li></ul></div>

<p>This guide will help you understand how to configure and deploy a Neo4j High Availability cluster.
Two scenarios will be considered:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">

Configuring 3 instances to be deployed on 3 separate machines, in a setting similar to what might be encountered in a production environment.

</li><li class="listitem">

Modifying the former to make it possible to run a cluster of 3 instances on the same physical machine, which is particularly useful during development.

</li></ul></div>
<section class="section" id="_background_2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Background</h3></div></div></div>

<p>Each instance in a Neo4j HA cluster must be assigned an integer ID, which serves as its unique identifier. At startup, a Neo4j
instance contacts the other instances specified in the <code class="literal">ha.initial_hosts</code> configuration option.</p>
<p>When an instance establishes a connection to any other, it determines the current state of the cluster and ensures that
it is eligible to join. To be eligible the Neo4j instance must host the same database store as other members of the
cluster (although it is allowed to be in an older state), or be a new deployment without a database store.</p>
<div class="admonitionblock Warning"><table><tr><td class="icon"><img alt="[Warning]" src="images/icons/admon/warning.svg" /></td><td class="content"><b>Explicitly configure IP Addresses/Hostnames for a cluster</b>

<p>Neo4j will attempt to configure IP addresses for itself in the absence of explicit configuration. However in
typical operational environments where machines have multiple network cards and support IPv4 and IPv6 it is <span class="strong"><strong>strongly</strong></span>
recommended that the operator explicitly sets the IP address/hostname configuration for each machine in the cluster.</p>
</td></tr></table></div>
<p>Let’s examine the available settings and the values they accept.</p>
<section class="section" id="_ha_server_id"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title">ha.server_id</h4></div></div></div>

<p><code class="literal">ha.server_id</code> is the cluster identifier for each instance. It must be a positive integer and must be unique among
all Neo4j instances in the cluster.</p>
<p>For example, <code class="literal">ha.server_id=1</code>.</p>
</section>
<section class="section" id="_ha_cluster_server"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title">ha.cluster_server</h4></div></div></div>

<p><code class="literal">ha.cluster_server</code> is an address/port setting that specifies where the Neo4j instance will listen for cluster
communications (like hearbeat messages). The default port is <code class="literal">5001</code>. In the absence of a specified IP address, Neo4j
will attempt to find a valid interface for binding. While this behavior typically results in a well-behaved server, it
is <span class="strong"><strong>strongly</strong></span> recommended that users explicitly choose an IP address bound to the network interface of their choosing
to ensure a coherent cluster deployment.</p>
<p>For example, <code class="literal">ha.cluster_server=192.168.33.22:5001</code> will listen for cluster communications on the network interface
bound to the 192.168.33.0 subnet on port 5001.</p>
</section>
<section class="section" id="_ha_initial_hosts"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title">ha.initial_hosts</h4></div></div></div>

<p><code class="literal">ha.initial_hosts</code> is a comma separated list of address/port pairs, which specify how to reach other Neo4j instances
in the cluster (as configured via their <code class="literal">ha.cluster_server</code> option). These hostname/ports will be used when the Neo4j
instances starts, to allow it up to find and join the cluster. Specifying an instance’s own address is permitted.</p>
<div class="admonitionblock Warning"><table><tr><td class="icon"><img alt="[Warning]" src="images/icons/admon/warning.svg" /></td><td class="content"><b>Warning</b>
<p>Do <span class="strong"><strong>not</strong></span> use any whitespace in this configuration option.</p>
</td></tr></table></div>
<p>For example, <code class="literal">ha.initial_hosts=192.168.33.22:5001,192.168.33.21:5001</code> will attempt to reach Neo4j instances listening on
192.168.33.22 on port 5001 and 192.168.33.21 on port 5001 on the 192.168.33.0 subnet.</p>
</section>
<section class="section" id="_ha_server"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title">ha.server</h4></div></div></div>

<p><code class="literal">ha.server</code> is an address/port setting that specifies where the Neo4j instance will listen for transactions
(changes to the graph data) from the cluster master. The default port is <code class="literal">6001</code>. In the absence of a specified IP address, Neo4j will attempt
to find a valid interface for binding. While this behavior typically results in a well-behaved server, it is <span class="strong"><strong>strongly</strong></span> recommended that
users explicitly choose an IP address bound to the network interface of their choosing to ensure a coherent cluster topology.</p>
<p><code class="literal">ha.server</code> must user a different port to <code class="literal">ha.cluster_server</code>.</p>
<p>For example, <code class="literal">ha.server=192.168.33.22:6001</code> will listen for cluster communications on the network interface
bound to the 192.168.33.0 subnet on port 6001.</p>
<div class="admonitionblock Tip"><table><tr><td class="icon"><img alt="[Tip]" src="images/icons/admon/tip.svg" /></td><td class="content"><b>Address/port format</b>

<p>The <code class="literal">ha.cluster_server</code> and <code class="literal">ha.server</code> configuration options are specified as <code class="literal">&lt;IP address&gt;:&lt;port&gt;</code>.</p>
<p>For <code class="literal">ha.server</code> the IP address MUST be the address assigned to one of the host’s network interfaces.</p>
<p>For <code class="literal">ha.cluster_server</code> the IP address MUST be the address assigned to one of the host’s network interfaces,
or the value <code class="literal">0.0.0.0</code>, which will cause Neo4j to listen on every network interface.</p>
<p>Either the address or the port can be omitted, in which case the default for that part will be used. If the address
is omitted, then the port must be preceded with a colon (eg. <code class="literal">:5001</code>).</p>
<p>The syntax for setting the port range is: <code class="literal">&lt;hostname&gt;:&lt;first port&gt;[-&lt;second port&gt;]</code>. In this case, Neo4j will test
each port in sequence, and select the first that is unused. Note that this usage is not permitted when the hostname is specified
as <code class="literal">0.0.0.0</code> (the "all interfaces" address).</p>
</td></tr></table></div>
</section>
</section>
<section class="section" id="_getting_started_setting_up_a_production_cluster"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Getting started: Setting up a production cluster</h3></div></div></div>

<section class="section" id="package-download"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title">Download and unpack Neo4j Enterprise</h4></div></div></div>

<p>Download Neo4j Enterprise from <a class="ulink" href="http://neo4j.com/download/" target="_blank">the Neo4j download site</a>, and unpack on 3 separate machines.</p>
</section>
<section class="section" id="_configure_ha_related_settings_for_each_installation"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title">Configure HA related settings for each installation</h4></div></div></div>

<p>The following settings should be configured for each Neo4j installation.
Note that all 3 installations have the same configuration, except for the <code class="literal">ha.server_id</code> property.</p>
<p><span class="strong"><strong>Neo4j instance #1 — neo4j-01.local</strong></span></p>
<p><span class="emphasis"><em>conf/neo4j.properties</em></span>:</p>
<pre class="programlisting" data-lang="properties"># Unique server id for this Neo4j instance
# can not be negative id and must be unique
ha.server_id = 1

# List of other known instances in this cluster
ha.initial_hosts = neo4j-01.local:5001,neo4j-02.local:5001,neo4j-03.local:5001
# Alternatively, use IP addresses:
#ha.initial_hosts = 192.168.0.20:5001,192.168.0.21:5001,192.168.0.22:5001</pre>
<p><span class="emphasis"><em>conf/neo4j-server.properties</em></span></p>
<pre class="programlisting" data-lang="properties"># Let the webserver only listen on the specified IP.
org.neo4j.server.webserver.address=0.0.0.0

# HA - High Availability
# SINGLE - Single mode, default.
org.neo4j.server.database.mode=HA</pre>
<p><span class="strong"><strong>Neo4j instance #2 — neo4j-02.local</strong></span></p>
<p><span class="emphasis"><em>conf/neo4j.properties</em></span>:</p>
<pre class="programlisting" data-lang="properties"># Unique server id for this Neo4j instance
# can not be negative id and must be unique
ha.server_id = 2

# List of other known instances in this cluster
ha.initial_hosts = neo4j-01.local:5001,neo4j-02.local:5001,neo4j-03.local:5001
# Alternatively, use IP addresses:
#ha.initial_hosts = 192.168.0.20:5001,192.168.0.21:5001,192.168.0.22:5001</pre>
<p><span class="emphasis"><em>conf/neo4j-server.properties</em></span></p>
<pre class="programlisting" data-lang="properties"># Let the webserver only listen on the specified IP.
org.neo4j.server.webserver.address=0.0.0.0

# HA - High Availability
# SINGLE - Single mode, default.
org.neo4j.server.database.mode=HA</pre>
<p><span class="strong"><strong>Neo4j instance #3 — neo4j-03.local</strong></span></p>
<p><span class="emphasis"><em>conf/neo4j.properties</em></span>:</p>
<pre class="programlisting" data-lang="properties"># Unique server id for this Neo4j instance
# can not be negative id and must be unique
ha.server_id = 3

# List of other known instances in this cluster
ha.initial_hosts = neo4j-01.local:5001,neo4j-02.local:5001,neo4j-03.local:5001
# Alternatively, use IP addresses:
#ha.initial_hosts = 192.168.0.20:5001,192.168.0.21:5001,192.168.0.22:5001</pre>
<p><span class="emphasis"><em>conf/neo4j-server.properties</em></span></p>
<pre class="programlisting" data-lang="properties"># Let the webserver only listen on the specified IP.
org.neo4j.server.webserver.address=0.0.0.0

# HA - High Availability
# SINGLE - Single mode, default.
org.neo4j.server.database.mode=HA</pre>
</section>
<section class="section" id="_start_the_neo4j_servers"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title">Start the Neo4j Servers</h4></div></div></div>

<p>Start the Neo4j servers as normal. Note the startup order does not matter.</p>
<pre class="programlisting" data-lang="shell">neo4j-01$ ./bin/neo4j start</pre>
<pre class="programlisting" data-lang="shell">neo4j-02$ ./bin/neo4j start</pre>
<pre class="programlisting" data-lang="shell">neo4j-03$ ./bin/neo4j start</pre>
<div class="admonitionblock Tip"><table><tr><td class="icon"><img alt="[Tip]" src="images/icons/admon/tip.svg" /></td><td class="content"><b>Startup Time</b>

<p>When running in HA mode, the startup script returns immediately instead of waiting for the server to become available.
This is because the instance does not accept any requests until a cluster has been formed.
In the example above this happens when you startup the second instance.
To keep track of the startup state you can follow the messages in console.log - the path to that is printed before the startup script returns.</p>
</td></tr></table></div>
<p>Now, you should be able to access the 3 servers and check their HA status:</p>
<p><a class="ulink" href="http://neo4j-01.local:7474/webadmin/#/info/org.neo4j/High%20Availability/" target="_blank">http://neo4j-01.local:7474/webadmin/#/info/org.neo4j/High%20Availability/</a></p>
<p><a class="ulink" href="http://neo4j-02.local:7474/webadmin/#/info/org.neo4j/High%20Availability/" target="_blank">http://neo4j-02.local:7474/webadmin/#/info/org.neo4j/High%20Availability/</a></p>
<p><a class="ulink" href="http://neo4j-03.local:7474/webadmin/#/info/org.neo4j/High%20Availability/" target="_blank">http://neo4j-03.local:7474/webadmin/#/info/org.neo4j/High%20Availability/</a></p>
<div class="admonitionblock Tip"><table><tr><td class="icon"><img alt="[Tip]" src="images/icons/admon/tip.svg" /></td><td class="content"><b>Tip</b><p>You can replace database #3 with an <span class="emphasis"><em>arbiter</em></span> instance, see <a class="link" href="arbiter-instances.html" title="26.4. Arbiter Instances">Arbiter Instances</a>.</p></td></tr></table></div>
<p>That’s it!
You now have a Neo4j HA cluster of 3 instances running.
You can start by making a change on any instance and those changes will be propagated between them.
For more HA related configuration options take a look at <a class="link" href="ha-configuration.html" title="26.2. Setup and configuration">HA Configuration</a>.</p>
</section>
</section>
<section class="section" id="ha-local-cluster"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Alternative setup: Creating a local cluster for testing</h3></div></div></div>

<p>If you want to start a cluster similar to the one described above, but for development and testing purposes, it is convenient to run all Neo4j instances on the same machine.
This is easy to achieve, although it requires some additional configuration as the defaults will conflict with each other.</p>
<section class="section" id="_download_and_unpack_neo4j_enterprise"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title">Download and unpack Neo4j Enterprise</h4></div></div></div>

<p>Download Neo4j Enterprise from <a class="ulink" href="http://neo4j.com/download/" target="_blank">the Neo4j download site</a>, and unpack into 3 separate directories on your test machine.</p>
</section>
<section class="section" id="_configure_ha_related_settings_for_each_installation_2"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title">Configure HA related settings for each installation</h4></div></div></div>

<p>The following settings should be configured for each Neo4j installation.</p>
<p><span class="strong"><strong>Neo4j instance #1 — ~/neo4j-01</strong></span></p>
<p><span class="emphasis"><em>conf/neo4j.properties</em></span>:</p>
<pre class="programlisting" data-lang="properties"># Unique server id for this Neo4j instance
# can not be negative id and must be unique
ha.server_id = 1

# IP and port for this instance to bind to for communicating data with the
# other neo4j instances in the cluster.
ha.server = 127.0.0.1:6363
online_backup_server = 127.0.0.1:6366

# IP and port for this instance to bind to for communicating cluster information
# with the other neo4j instances in the cluster.
ha.cluster_server = 127.0.0.1:5001

# List of other known instances in this cluster
ha.initial_hosts = 127.0.0.1:5001,127.0.0.1:5002,127.0.0.1:5003</pre>
<p><span class="emphasis"><em>conf/neo4j-server.properties</em></span></p>
<pre class="programlisting" data-lang="properties"># database location
org.neo4j.server.database.location=data/graph.db

# http port (for all data, administrative, and UI access)
org.neo4j.server.webserver.port=7474

# https port (for all data, administrative, and UI access)
org.neo4j.server.webserver.https.port=7484

# HA - High Availability
# SINGLE - Single mode, default.
org.neo4j.server.database.mode=HA</pre>
<p><span class="strong"><strong>Neo4j instance #2 — ~/neo4j-02</strong></span></p>
<p><span class="emphasis"><em>conf/neo4j.properties</em></span>:</p>
<pre class="programlisting" data-lang="properties"># Unique server id for this Neo4j instance
# can not be negative id and must be unique
ha.server_id = 2

# IP and port for this instance to bind to for communicating data with the
# other neo4j instances in the cluster.
ha.server = 127.0.0.1:6364
online_backup_server = 127.0.0.1:6367

# IP and port for this instance to bind to for communicating cluster information
# with the other neo4j instances in the cluster.
ha.cluster_server = 127.0.0.1:5002

# List of other known instances in this cluster
ha.initial_hosts = 127.0.0.1:5001,127.0.0.1:5002,127.0.0.1:5003</pre>
<p><span class="emphasis"><em>conf/neo4j-server.properties</em></span></p>
<pre class="programlisting" data-lang="properties"># database location
org.neo4j.server.database.location=data/graph.db

# http port (for all data, administrative, and UI access)
org.neo4j.server.webserver.port=7475

# https port (for all data, administrative, and UI access)
org.neo4j.server.webserver.https.port=7485

# HA - High Availability
# SINGLE - Single mode, default.
org.neo4j.server.database.mode=HA</pre>
<p><span class="strong"><strong>Neo4j instance #3 — ~/neo4j-03</strong></span></p>
<p><span class="emphasis"><em>conf/neo4j.properties</em></span>:</p>
<pre class="programlisting" data-lang="properties"># Unique server id for this Neo4j instance
# can not be negative id and must be unique
ha.server_id = 3

# IP and port for this instance to bind to for communicating data with the
# other neo4j instances in the cluster.
ha.server = 127.0.0.1:6365
online_backup_server = 127.0.0.1:6368

# IP and port for this instance to bind to for communicating cluster information
# with the other neo4j instances in the cluster.
ha.cluster_server = 127.0.0.1:5003

# List of other known instances in this cluster
ha.initial_hosts = 127.0.0.1:5001,127.0.0.1:5002,127.0.0.1:5003</pre>
<p><span class="emphasis"><em>conf/neo4j-server.properties</em></span></p>
<pre class="programlisting" data-lang="properties"># database location
org.neo4j.server.database.location=data/graph.db

# http port (for all data, administrative, and UI access)
org.neo4j.server.webserver.port=7476

# https port (for all data, administrative, and UI access)
org.neo4j.server.webserver.https.port=7486

# HA - High Availability
# SINGLE - Single mode, default.
org.neo4j.server.database.mode=HA</pre>
</section>
<section class="section" id="_start_the_neo4j_servers_2"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title">Start the Neo4j Servers</h4></div></div></div>

<p>Start the Neo4j servers as normal.
Note the startup order does not matter.</p>
<pre class="programlisting" data-lang="shell">localhost:~/neo4j-01$ ./bin/neo4j start</pre>
<pre class="programlisting" data-lang="shell">localhost:~/neo4j-02$ ./bin/neo4j start</pre>
<pre class="programlisting" data-lang="shell">localhost:~/neo4j-03$ ./bin/neo4j start</pre>
<p>Now, you should be able to access the 3 servers and check their HA status:</p>
<p><a class="ulink" href="http://127.0.0.1:7474/webadmin/#/info/org.neo4j/High%20Availability/" target="_blank">http://127.0.0.1:7474/webadmin/#/info/org.neo4j/High%20Availability/</a></p>
<p><a class="ulink" href="http://127.0.0.1:7475/webadmin/#/info/org.neo4j/High%20Availability/" target="_blank">http://127.0.0.1:7475/webadmin/#/info/org.neo4j/High%20Availability/</a></p>
<p><a class="ulink" href="http://127.0.0.1:7476/webadmin/#/info/org.neo4j/High%20Availability/" target="_blank">http://127.0.0.1:7476/webadmin/#/info/org.neo4j/High%20Availability/</a></p>
</section>
</section>
</section>

 <footer>
   <p>
   © Copyright
   <a href="http://creativecommons.org/licenses/by-sa/3.0/"><img id="copyright-img" src="images/by-sa.svg" alt="CC BY-SA 3.0" title="Creative Commons Attribution-ShareAlike 3.0"></a>
   <a href="http://neo4j.com/"><img id="neotech-logo" src="images/neo-technology.svg" alt="Neo Technology"></a>
   </p>
 </footer>
  <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    //Allow Linker
    ga('create', 'UA-1192232-34','auto', {'allowLinker': true});
    ga('send', 'pageview');

    // Load the plugin.
    ga('require', 'linker');

    // Define which domains to autoLink.
    ga('linker:autoLink', ['neo4j.org','neo4j.com','neotechnology.com','graphdatabases.com','graphconnect.com']);
  </script>

</div></body></html>