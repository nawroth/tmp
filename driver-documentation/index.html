<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Neo4j Driver Documentation 1.0</title>
<link rel="stylesheet" href="css//github.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">

<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<!-- Bootstrap -->
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- CodeMirror -->
<link href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/codemirror.min.css" rel="stylesheet">
<link href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/theme/neo.min.css" rel="stylesheet">
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/codemirror.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/addon/runmode/runmode.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/mode/javascript/javascript.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/mode/shell/shell.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/mode/python/python.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/mode/xml/xml.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/mode/clike/clike.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/mode/cypher/cypher.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/mode/properties/properties.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.9.0/mode/groovy/groovy.min.js"></script>

<script src="javascript/colorize.js"></script>
<script src="javascript/tabs.js"></script>

<script>
$(document).ready(function() {
  CodeMirror.colorize();
  tabTheSource($('#content'));
});
</script>

<link href="css/extra.css" rel="stylesheet">
</head>
<body id="index" class="article toc2 toc-left">
<div id="header">
<h1>Neo4j Driver Documentation 1.0</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#getting-started">Getting Started</a>
<ul class="sectlevel2">
<li><a href="#get-the-driver">Get the driver</a></li>
<li><a href="#use-the-driver">Use the driver</a></li>
</ul>
</li>
<li><a href="#driver">Driver</a>
<ul class="sectlevel2">
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#construction">Construction</a></li>
<li><a href="#lifecycle">Lifecycle</a></li>
<li><a href="#configuration">Configuration</a></li>
</ul>
</li>
<li><a href="#session">Session</a>
<ul class="sectlevel2">
<li><a href="#run-statement">Run Statement</a></li>
<li><a href="#session-state">Session State</a></li>
<li><a href="#syncing">Syncing</a></li>
<li><a href="#transactions">Transactions</a></li>
</ul>
</li>
<li><a href="#result">Result</a>
<ul class="sectlevel2">
<li><a href="#concepts">Concepts</a></li>
<li><a href="#processing">Processing</a></li>
<li><a href="#metadata">Metadata</a></li>
</ul>
</li>
<li><a href="#types">Types</a></li>
<li><a href="#errors">Errors</a></li>
<li><a href="#terminology">Terminology</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Uniform Language Drivers are Drivers for the <a href="http://neo4j.com/">Neo4j Database</a>
  that use the <a href="#term-bolt"><code>Bolt</code></a> protocol.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="anchor" href="#getting-started"></a>Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To help you get up and running quickly.</p>
</div>
<div class="sect2">
<h3 id="get-the-driver"><a class="anchor" href="#get-the-driver"></a>Get the driver</h3>
<div class="paragraph">
<p>You can download the driver source or acquire it with one of the dependency managers of your language.</p>
</div>
<div class="sect3">
<h4 id="versions"><a class="anchor" href="#versions"></a>Versions</h4>
<div class="paragraph">
<p>Each version of a Driver supports up to four different versions of the Bolt protocol.
This means, that for immediate future each driver version will work with all available version of the protocol.
Once we start seeing Drivers that no longer support older versions of Bolt,
  we will make this information available here as an accessible overview.</p>
</div>
</div>
<div class="sect3">
<h4 id="_download"><a class="anchor" href="#_download"></a>Download</h4>
<div class="paragraph">
<p>To dowload the driver do</p>
</div>
<div class="exampleblock tabbed-example">
<div class="title">Download</div>
<div class="content">
<div class="openblock include-with-java">
<div class="content">
<div class="paragraph">
<p>When using Maven, do like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;
        &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;
        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;

&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;neo4j-snapshot-repository&lt;/id&gt;
        &lt;name&gt;Neo4j Maven 2 snapshot repository&lt;/name&gt;
        &lt;url&gt;http://m2.neo4j.org/content/repositories/snapshots&lt;/url&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/snapshots&gt;
        &lt;releases&gt;
            &lt;enabled&gt;false&lt;/enabled&gt;
        &lt;/releases&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For Gradle or Grails, this is how to add the dependency:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile 'org.neo4j.driver:neo4j-java-driver:1.0-SNAPSHOT'</code></pre>
</div>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">var neo4j = require('lib/neo4j');</code></pre>
</div>
</div>
<div class="openblock include-with-csharp">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Coming soon!
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="openblock include-with-python">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">pip install neo4j-driver</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="use-the-driver"><a class="anchor" href="#use-the-driver"></a>Use the driver</h3>
<div class="paragraph">
<p>Each driver has a database object for creating a driver.
To use a driver, follow the simple pattern:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ask the database object for a new driver.</p>
</li>
<li>
<p>Ask the driver object for a new session.</p>
</li>
<li>
<p>Use the session object to run statements.
It returns an object representing the results.</p>
</li>
<li>
<p>Process the results.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Remember to exhaust the returned results so that the session is ready to run the next statement!
</td>
</tr>
</table>
</div>
<div class="exampleblock tabbed-example">
<div class="title">Usage example</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cs" data-lang="cs">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String text = "MATCH (n) RETURN n";

// when
Statement statement = new Statement( text, NO_PARAMETERS );</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">var neo4j = require('neo4j');

var statement = ['MERGE (alice:Person {name:{name_a},age:{age_a}})',
  'MERGE (bob:Person {name:{name_b},age:{age_b}})',
  'CREATE UNIQUE (alice)-[alice_knows_bob:KNOWS]-&gt;(bob)',
  'RETURN alice, bob, alice_knows_bob'
];

var params = {
  name_a: 'Alice',
  age_a: 33,
  name_b: 'Bob',
  age_b: 44
};

var driver = neo4j.driver("bolt://localhost");

var streamSession = driver.session();
var streamResult = streamSession.run(statement.join(' '), params);
streamResult.subscribe({
  onNext: function(record) {
    // On receipt of RECORD
    for(var i in record) {
      console.log(i);
      console.log(record[i]);
    }
  }, onCompleted: function() {
    var summary = streamResult.summarize();
    //Print number of nodes created
    console.log('');
    console.log(summary.updateStatistics.nodesCreated());
    streamSession.close();
  }, onError: function(error) {
    console.log(error);
  }
});

var promiseSession = driver.session();
var promiseResult = promiseSession.run(statement.join(' '), params);
promiseResult.then(function(records) {
  records.forEach(function(record) {
    for(var i in record) {
      console.log(i);
      console.log(record[i]);
    }
  });
  var summary = promiseResult.summarize();
  //Print number of nodes created
  console.log('');
  console.log(summary.updateStatistics.nodesCreated());
})
.catch(function(error) {
  console.log(error);
})
.then(function(){
  promiseSession.close();
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def test_can_run_simple_statement_from_bytes_string(self):
    session = GraphDatabase.driver("bolt://localhost").session()
    count = 0
    for record in session.run(b"RETURN 1 AS n"):
        assert record[0] == 1
        assert record["n"] == 1
        assert record.n == 1
        assert repr(record)</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>As seen above, it is possible to run statements directly from the session object.
The session will take care of opening and closing the transaction.
The session also provides the opportunity for a user to manage the transaction.
When explicitly told to begin a new transaction,
  the session will return the transaction object,
  allowing fine-grained transaction control.
See the <a href="#transactions">transaction section</a> for details.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="driver"><a class="anchor" href="#driver"></a>Driver</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A driver usually lives for the duration of an application.
It controls communication with the Neo4j server and spawns sessions.</p>
</div>
<div class="sect2">
<h3 id="dependencies"><a class="anchor" href="#dependencies"></a>Dependencies</h3>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Do we have anything more to say about dependencies that we haven&#8217;t said in the getting started section?</p>
</div>
</td>
</tr>
</table>
</div>
<div class="exampleblock tabbed-example">
<div class="title">Importing dependencies</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cs" data-lang="cs">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String text = "MATCH (n) RETURN n";

// when
Statement statement = new Statement( text, NO_PARAMETERS );</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">var neo4j = require('neo4j');

var statement = ['MERGE (alice:Person {name:{name_a},age:{age_a}})',
  'MERGE (bob:Person {name:{name_b},age:{age_b}})',
  'CREATE UNIQUE (alice)-[alice_knows_bob:KNOWS]-&gt;(bob)',
  'RETURN alice, bob, alice_knows_bob'
];

var params = {
  name_a: 'Alice',
  age_a: 33,
  name_b: 'Bob',
  age_b: 44
};

var driver = neo4j.driver("bolt://localhost");

var streamSession = driver.session();
var streamResult = streamSession.run(statement.join(' '), params);
streamResult.subscribe({
  onNext: function(record) {
    // On receipt of RECORD
    for(var i in record) {
      console.log(i);
      console.log(record[i]);
    }
  }, onCompleted: function() {
    var summary = streamResult.summarize();
    //Print number of nodes created
    console.log('');
    console.log(summary.updateStatistics.nodesCreated());
    streamSession.close();
  }, onError: function(error) {
    console.log(error);
  }
});

var promiseSession = driver.session();
var promiseResult = promiseSession.run(statement.join(' '), params);
promiseResult.then(function(records) {
  records.forEach(function(record) {
    for(var i in record) {
      console.log(i);
      console.log(record[i]);
    }
  });
  var summary = promiseResult.summarize();
  //Print number of nodes created
  console.log('');
  console.log(summary.updateStatistics.nodesCreated());
})
.catch(function(error) {
  console.log(error);
})
.then(function(){
  promiseSession.close();
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def test_can_run_simple_statement_from_bytes_string(self):
    session = GraphDatabase.driver("bolt://localhost").session()
    count = 0
    for record in session.run(b"RETURN 1 AS n"):
        assert record[0] == 1
        assert record["n"] == 1
        assert record.n == 1
        assert repr(record)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="construction"><a class="anchor" href="#construction"></a>Construction</h3>
<div class="paragraph">
<p>A Driver object is created from a graph database singleton.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Do we have anything more to say about dependencies that we haven&#8217;t said in the getting started section?</p>
</div>
</td>
</tr>
</table>
</div>
<div class="exampleblock tabbed-example">
<div class="title">Creating a Driver object</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cs" data-lang="cs">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String text = "MATCH (n) RETURN n";

// when
Statement statement = new Statement( text, NO_PARAMETERS );</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">var neo4j = require('neo4j');

var statement = ['MERGE (alice:Person {name:{name_a},age:{age_a}})',
  'MERGE (bob:Person {name:{name_b},age:{age_b}})',
  'CREATE UNIQUE (alice)-[alice_knows_bob:KNOWS]-&gt;(bob)',
  'RETURN alice, bob, alice_knows_bob'
];

var params = {
  name_a: 'Alice',
  age_a: 33,
  name_b: 'Bob',
  age_b: 44
};

var driver = neo4j.driver("bolt://localhost");

var streamSession = driver.session();
var streamResult = streamSession.run(statement.join(' '), params);
streamResult.subscribe({
  onNext: function(record) {
    // On receipt of RECORD
    for(var i in record) {
      console.log(i);
      console.log(record[i]);
    }
  }, onCompleted: function() {
    var summary = streamResult.summarize();
    //Print number of nodes created
    console.log('');
    console.log(summary.updateStatistics.nodesCreated());
    streamSession.close();
  }, onError: function(error) {
    console.log(error);
  }
});

var promiseSession = driver.session();
var promiseResult = promiseSession.run(statement.join(' '), params);
promiseResult.then(function(records) {
  records.forEach(function(record) {
    for(var i in record) {
      console.log(i);
      console.log(record[i]);
    }
  });
  var summary = promiseResult.summarize();
  //Print number of nodes created
  console.log('');
  console.log(summary.updateStatistics.nodesCreated());
})
.catch(function(error) {
  console.log(error);
})
.then(function(){
  promiseSession.close();
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def test_can_run_simple_statement_from_bytes_string(self):
    session = GraphDatabase.driver("bolt://localhost").session()
    count = 0
    for record in session.run(b"RETURN 1 AS n"):
        assert record[0] == 1
        assert record["n"] == 1
        assert record.n == 1
        assert repr(record)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lifecycle"><a class="anchor" href="#lifecycle"></a>Lifecycle</h3>
<div class="paragraph">
<p>A driver is created from the database object.
It typically lives for the duration of your application.
Use a driver to create sessions.</p>
</div>
<div class="paragraph">
<p>The only reason to create more than one driver would be
  if there are multiple destinations/URLs for which to create sessions.
(For HA purposes, or to pull data out of one database and push it into another.)</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration"><a class="anchor" href="#configuration"></a>Configuration</h3>
<div class="paragraph">
<p>The only configuration necessery to use a driver is a Bolt URL.</p>
</div>
<div class="sect3">
<h4 id="url-format"><a class="anchor" href="#url-format"></a>URL Format</h4>
<div class="paragraph">
<p>The Bolt URL follows the standard URL pattern of <code>scheme://hostname:port</code>.
The point of configuration is contained in the scheme.
The simplest Bolt URL uses <code>bolt</code> for schema on the default Neo4j port:
<code>bolt://localhost:7474</code>.</p>
</div>
<div class="paragraph">
<p>To connect to Neo4j on a different port,
  to disable default security,
  or to manually control the use of a Websocket,
  the server must be configured.
The driver is then configured to connect to the server in the desired way by altering the URL.
<code>bolt+ssl://server:1234</code></p>
</div>
</div>
<div class="sect3">
<h4 id="ssl-tls"><a class="anchor" href="#ssl-tls"></a>SSL / TLS</h4>
<div class="paragraph">
<p>Traffic using the Uniform Language Drivers is encrypted by default,
  using SSL/TLS.
If you want unencrpyted communication you can configure the Neo4j server to listen to a different port.
Please see {some-handy-attribute-for-the-correct-page-in-the-manual} for information on how to do that.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="session"><a class="anchor" href="#session"></a>Session</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All interacting with the server happens in a session.</p>
</div>
<div class="sect2">
<h3 id="run-statement"><a class="anchor" href="#run-statement"></a>Run Statement</h3>
<div class="paragraph">
<p>When the session runs a statement directly, it creates an implicit transaction.</p>
</div>
<div class="exampleblock tabbed-example">
<div class="title">Run statement</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cs" data-lang="cs">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// when
Statement statement = new Statement( text, null );

// then
assertThat( statement.text(), equalTo( text ) );
assertThat( statement.parameters(), equalTo( NO_PARAMETERS ) );</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">    }
  });
  var summary = promiseResult.summarize();
  //Print number of nodes created
  console.log('');
  console.log(summary.updateStatistics.nodesCreated());
})
.catch(function(error) {
  console.log(error);
})
.then(function(){
  promiseSession.close();
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def test_can_run_simple_statement_with_params(self):
    session = GraphDatabase.driver("bolt://localhost").session()
    count = 0
    for record in session.run("RETURN {x} AS n", {"x": {"abc": ["d", "e", "f"]}}):
        assert record[0] == {"abc": ["d", "e", "f"]}
        assert record["n"] == {"abc": ["d", "e", "f"]}
        assert repr(record)
        assert len(record) == 1
        count += 1
    session.close()
    assert count == 1</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="session-state"><a class="anchor" href="#session-state"></a>Session State</h3>
<div class="paragraph">
<p>A session can be in three states:
<em>READY</em>, <em>RESULT</em>, and <em>FAILED</em>.</p>
</div>
<div class="paragraph">
<p>A session begins in <em>READY</em> mode.
When a query is executed, the session changes states.</p>
</div>
<div class="paragraph">
<p>If execution is successful, the session enters <em>RESULT</em> state.
The results are available for consumption.
When the entire result stream is consumed, the session returns to <em>READY</em> state.</p>
</div>
<div class="paragraph">
<p>If execution is not successful, the session enters <em>FAILED</em> state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/bolt-session-state-machine.svg" alt="bolt session state machine">
</div>
</div>
</div>
<div class="sect2">
<h3 id="syncing"><a class="anchor" href="#syncing"></a>Syncing</h3>
<div class="paragraph">
<p>N/A
Pipelining is related to syncing.</p>
</div>
</div>
<div class="sect2">
<h3 id="transactions"><a class="anchor" href="#transactions"></a>Transactions</h3>
<div class="paragraph">
<p>Read about how transactions in general work in the <a href="http://neo4j.com/docs/stable/transactions.html">Neo4j Manual</a>.</p>
</div>
<div class="paragraph">
<p>When the session runs a statement directly, it creates an implicit transaction.</p>
</div>
<div class="paragraph">
<p>The transaction object can be controlled with <code>BEGIN</code>, <code>COMMIT</code>, and <code>ROLLBACK</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="result"><a class="anchor" href="#result"></a>Result</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Executing a statement returns a result.</p>
</div>
<div class="sect2">
<h3 id="concepts"><a class="anchor" href="#concepts"></a>Concepts</h3>
<div class="paragraph">
<p>Every result is a stream of <a href="#term-record">records</a>.
A record is an ordered map of keys and values.
These key-value pairs are called "fields".
Because the fields are both keyed and ordered,
  the value of a field can be accessed either by position (<em>0-based integer</em>) or by key (<em>string</em>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To access values by position, use a 0-based integer.
To access values by key, use a string.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Views and cursors are the primary way of accessing results.</p>
</div>
<div class="sect3">
<h4 id="record-view"><a class="anchor" href="#record-view"></a>Record View</h4>
<div class="paragraph">
<p>The record view provides access to the individual result record.</p>
</div>
<div class="exampleblock tabbed-example">
<div class="title">Record view example</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cs" data-lang="cs">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">RecordView r = ...;
for (String key : r.keys())
{
    System.out.println(key + ": " + r.value(key));
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">COMING SOON</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="record-cursor"><a class="anchor" href="#record-cursor"></a>Record Cursor</h4>
<div class="paragraph">
<p>A record cursor provides access to the record stream.
It is a record view with a dynamically changing underlying record.</p>
</div>
<div class="exampleblock tabbed-example">
<div class="title">Record cursor example</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cs" data-lang="cs">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">RecordView r = ...;
for (String key : r.keys())
{
    System.out.println(key + ": " + r.value(key));
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">COMING SOON</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><a href="https://github.com/neo-technology/driver-compliance-kit/blob/08-results/08-results-synchronous.adoc" class="bare">https://github.com/neo-technology/driver-compliance-kit/blob/08-results/08-results-synchronous.adoc</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="processing"><a class="anchor" href="#processing"></a>Processing</h3>
<div class="paragraph">
<p>How to process results.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Now that we have examples for record views and cursors, what is left for "processing results" that can go in this section?</p>
</div>
</td>
</tr>
</table>
</div>
<div class="exampleblock tabbed-example">
<div class="title">Processing results</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cs" data-lang="cs">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String text = "MATCH (n) RETURN n";

// when
Statement statement = new Statement( text, NO_PARAMETERS );</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">var neo4j = require('neo4j');

var statement = ['MERGE (alice:Person {name:{name_a},age:{age_a}})',
  'MERGE (bob:Person {name:{name_b},age:{age_b}})',
  'CREATE UNIQUE (alice)-[alice_knows_bob:KNOWS]-&gt;(bob)',
  'RETURN alice, bob, alice_knows_bob'
];

var params = {
  name_a: 'Alice',
  age_a: 33,
  name_b: 'Bob',
  age_b: 44
};

var driver = neo4j.driver("bolt://localhost");

var streamSession = driver.session();
var streamResult = streamSession.run(statement.join(' '), params);
streamResult.subscribe({
  onNext: function(record) {
    // On receipt of RECORD
    for(var i in record) {
      console.log(i);
      console.log(record[i]);
    }
  }, onCompleted: function() {
    var summary = streamResult.summarize();
    //Print number of nodes created
    console.log('');
    console.log(summary.updateStatistics.nodesCreated());
    streamSession.close();
  }, onError: function(error) {
    console.log(error);
  }
});

var promiseSession = driver.session();
var promiseResult = promiseSession.run(statement.join(' '), params);
promiseResult.then(function(records) {
  records.forEach(function(record) {
    for(var i in record) {
      console.log(i);
      console.log(record[i]);
    }
  });
  var summary = promiseResult.summarize();
  //Print number of nodes created
  console.log('');
  console.log(summary.updateStatistics.nodesCreated());
})
.catch(function(error) {
  console.log(error);
})
.then(function(){
  promiseSession.close();
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def test_can_run_simple_statement_from_bytes_string(self):
    session = GraphDatabase.driver("bolt://localhost").session()
    count = 0
    for record in session.run(b"RETURN 1 AS n"):
        assert record[0] == 1
        assert record["n"] == 1
        assert record.n == 1
        assert repr(record)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="metadata"><a class="anchor" href="#metadata"></a>Metadata</h3>
<div class="paragraph">
<p>It is possible to retrieve metadata along with the result stream.
An example is the query plan obtained by prepending a <code>PROFILE</code> or <code>EXPLAIN</code> keyword to the Cypher query.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="types"><a class="anchor" href="#types"></a>Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Neo4j Public Type System:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>string</em></p>
</li>
<li>
<p><em>number</em></p>
</li>
<li>
<p><em>boolean</em></p>
</li>
<li>
<p><em>Node</em></p>
</li>
<li>
<p><em>Relationship</em></p>
</li>
<li>
<p><em>Path</em></p>
</li>
</ul>
</div>
<div class="exampleblock">
<div class="title">Language mapping example</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cs" data-lang="cs">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">COMING SOON</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">COMING SOON</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="errors"><a class="anchor" href="#errors"></a>Errors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>COMING SOON</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="terminology"><a class="anchor" href="#terminology"></a>Terminology</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The terminology used in the Neo4j Driver manual.
This section provides cross-linked summaries of common terms.</p>
</div>
<div class="paragraph">
<p>In some cases, multiple terms (e.g., ) may be used for the same or similar concept.
An asterisk (*) to the right of a term indicates that the term is commonly used for Neo4j and Cypher.</p>
</div>
<div class="dlist glossary">
<dl>
<dt><a id="term-bolt"></a>bolt</dt>
<dd>
<p>The protocol used by Neo4j drivers to communicate with the server.</p>
</dd>
<dt><a id="term-driver"></a>driver</dt>
<dd>
<p>An interface for operating the Neo4j database.
The Neo4j drivers implement the <a href="#term-bolt">Bolt</a> protocol.</p>
</dd>
<dt><a id="term-record"></a>record</dt>
<dd>
<p><em>a result:</em> An ordered map of keys and values.
A <a href="#term-driver">Neo4j driver</a> returns results as a strem of records.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-12-01 14:37:07 CET
</div>
</div>
</body>
</html>