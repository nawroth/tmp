<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>33.5. Contributing Code to Neo4j -  - The Neo4j Manual v2.2-SNAPSHOT</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="prev" href="community-translating.html" title="33.4. Translating the Neo4j Manual" /><link rel="next" href="contributors.html" title="33.6. Contributors" /><link rel="copyright" href="ln-d5e39.html" title="License: Creative Commons 3.0" /><meta name="Section-title" content="33.5. Contributing Code to Neo4j" /><script type="text/javascript">
      //The id for tree cookie
      var treeCookieId = "treeview-71024";
      var language = "en";
      var w = new Object();
      //Localization
      txt_filesfound = 'Results';
      txt_enter_at_least_1_char = "You must enter at least one character.";
      txt_browser_not_supported = "JavaScript is disabled on your browser. Please enable JavaScript to enjoy all the features of this site.";
      txt_please_wait = "Please wait. Search in progress...";
      txt_results_for = "Results for: ";
    </script><meta name="viewport" content="width=device-width, initial-scale=1" /><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" /><link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/themes/redmond/jquery-ui.min.css" /><link rel="stylesheet" type="text/css" href="common/jquery/treeview/jquery.treeview.css" /><link rel="stylesheet" type="text/css" href="common/css/positioning.css" /><link rel="stylesheet" type="text/css" href="common/css/style.css" /><!--[if IE]>
  <link rel="stylesheet" type="text/css" href="../common/css/ie.css"/>
  <![endif]--><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" /><script type="text/javascript" src="common/browserDetect.js"></script><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js"></script><script type="text/javascript" src="common/jquery/jquery.highlight.js"></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script type="text/javascript" src="common/jquery/treeview/jquery.treeview.min.js"></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/1.4.11/jquery.scrollTo.min.js"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><script type="text/javascript" src="common/main.js"></script><script type="text/javascript" src="search/l10n.js"></script><script type="text/javascript" src="search/htmlFileInfoList.js"></script><script type="text/javascript" src="common/search.js"></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"></script><script type="text/javascript" src="search/index-1.js"></script><script type="text/javascript" src="search/index-2.js"></script><script type="text/javascript" src="search/index-3.js"></script>


<!-- favicon -->

<link rel="shortcut icon" href="common/images/favicon.ico" />

<!-- fonts -->

<link href='//fonts.googleapis.com/css?family=Ubuntu+Mono|PT+Sans:400,700,400italic' rel='stylesheet' type='text/css' />

<!-- Syntax Highlighter -->

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/codemirror.min.css" />
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/theme/neo.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/codemirror.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/addon/runmode/runmode.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/mode/javascript/javascript.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/mode/shell/shell.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/mode/sql/sql.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/mode/xml/xml.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/mode/clike/clike.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/mode/cypher/cypher.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/mode/properties/properties.min.js"></script>

<script src="js/colorize.js"></script>
 
<script type="text/javascript">
  $(function (){
    CodeMirror.colorize();
  });
</script>

<!-- Cypher Console -->

<script type="text/javascript" src="js/console.js"></script>
<script type="text/javascript" src="js/cypherconsole.js"></script>

<!-- Version -->
<script type="text/javascript" src="js/version.js"></script>
<script type="text/javascript" src="js/versionswitcher.js"></script>

<!-- Discuss -->
<script type="text/javascript" src="js/mutate.min.js"></script>
<script type="text/javascript" src="js/disqus.js"></script>

<script type="text/javascript">
    /*@cc_on @*/
    /*@
     $( '#content' ).addClass( 'internet-explorer' );
     @*/
</script>


</head><body><div id="header"><a href="index.html" id="logo"><img src="common/images/logo-neo4j.svg" alt="" /></a><h1><span id="book-title">The Neo4j Manual v2.2-SNAPSHOT</span><span>33.5. Contributing Code to Neo4j</span></h1><div id="navheader"><!----><div id="navLinks"><span><a id="showHideButton" href="#" class="pointLeft" tabindex="5" title="Show/Hide TOC tree"><i class="fa fa-columns"></i> Contents
            </a></span><span><a accesskey="p" id="navLinkPrevious" tabindex="5" href="community-translating.html"><i class="fa fa-arrow-circle-left"></i> Prev</a></span><span><a accesskey="u" id="navLinkUp" tabindex="5" href="community-contributing.html">Up <i class="fa fa-arrow-circle-up"></i></a></span><span><a accesskey="n" id="navLinkNext" tabindex="5" href="contributors.html">Next <i class="fa fa-arrow-circle-right"></i></a></span></div></div></div><div id="content"><section class="section" id="community-contributing-code"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both">33.5. Contributing Code to Neo4j</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="community-contributing-code.html#community-contributing-code-intro">Intro</a></span></li><li><span class="section"><a href="community-contributing-code.html#community-contributing-code-governance-fundamentals">Governance fundamentals</a></span></li><li><span class="section"><a href="community-contributing-code.html#community-contributing-code-contributor-roles">Contributor roles</a></span></li><li><span class="section"><a href="community-contributing-code.html#community-contributing-code-workflow">Contribution workflow</a></span></li><li><span class="section"><a href="community-contributing-code.html#community-contributing-code-pull-requests">Pull request checklist</a></span></li><li><span class="section"><a href="community-contributing-code.html#community-contributing-code-tests">Unit Tests</a></span></li><li><span class="section"><a href="community-contributing-code.html#community-contributing-code-code-style">Code Style</a></span></li><li><span class="section"><a href="community-contributing-code.html#community-contributing-code-commit-messages">Commit messages</a></span></li><li><span class="section"><a href="community-contributing-code.html#community-contributing-code-intro-the-fast-track">Signing the CLA</a></span></li><li><span class="section"><a href="community-contributing-code.html#community-contributing-code-no-merging">Don’t merge, use rebase instead!</a></span></li><li><span class="section"><a href="community-contributing-code.html#community-contributing-code-single-commit">Single commit</a></span></li></ul></div>

<section class="section" id="community-contributing-code-intro"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Intro</h3></div></div></div>

<p>The Neo4j community is a free software and open source community centered around software and components for the Neo4j Graph Database.
It is sponsored by <a class="ulink" href="http://neotechnology.com" target="_blank">Neo Technology</a>, which provides infrastructure (different kinds of hosting, documentation, etc) as well as people to manage it.
The Neo4j community is an open community, in so far as it welcomes any member that accepts the basic criterias of contribution and adheres to the community’s Code of Conduct.</p>
<p>Contribution can be in many forms (documentation, discussions, bug reports).
This document outlines the rules of governance for a contributor of code.</p>
</section>
<section class="section" id="community-contributing-code-governance-fundamentals"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Governance fundamentals</h3></div></div></div>

<p>In a nutshell, you need to be aware of the following fundamentals if you wish to contribute code:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">

All software published by the Neo4j project must have been contributed under the Neo4j Code <a class="link" href="cla.html" title="33.1. Contributor License Agreement">Contributor License Agreement</a>.

</li><li class="listitem">

Neo4j is a free software and open source community.
  As a contributor, you are free to place your work under any license that has been approved by either the <a class="ulink" href="http://www.fsf.org/" target="_blank">Free Software Foundation</a> or the <a class="ulink" href="http://opensource.org" target="_blank">Open Source Initiative</a>.
  You still retain copyright, so in addition to that license you can of course release your work under any other license (for example a fully proprietary license), just not on the Neo4j infrastructure.

</li><li class="listitem">

The Neo4j software is split into components.
  A Git repository holds either a single or multiple components.

</li><li class="listitem">

The source code should follow the Neo4j <a class="link" href="community-contributing-code.html#community-contributing-code-code-style" title="Code Style">Code Style</a> and “fit in” with the Neo4j infrastructure as much as is reasonable for the specific component.

</li></ul></div>
</section>
<section class="section" id="community-contributing-code-contributor-roles"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Contributor roles</h3></div></div></div>

<p>Every individual that contributes code does so in the context of a role (a single individual can have multiple roles).
The role defines their responsibilities and privileges:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">

A <span class="emphasis"><em>patch submitter</em></span> is a person who wishes to contribute a patch to an existing component.
  See <a class="link" href="community-contributing-code.html#community-contributing-code-workflow" title="Contribution workflow">Workflow</a> below.

</li><li class="listitem">

A <span class="emphasis"><em>committer</em></span> can contribute code directly to one or more components.

</li><li class="listitem">
<p class="simpara">
A <span class="emphasis"><em>component maintainer</em></span> is in charge of a specific component.
  They can:
</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">

commit code in their component’s repository,

</li><li class="listitem">

manage tickets for the repository,

</li><li class="listitem">

grant push rights to the repository.

</li></ul></div>
</li><li class="listitem">
<p class="simpara">
A <span class="emphasis"><em>Neo4j admin</em></span> manages the Neo4j infrastructure.
  They:
</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">

define new components and assign component maintainership,

</li><li class="listitem">

drive, mentor and coach Neo4j component development.

</li></ul></div>
</li></ul></div>
</section>
<section class="section" id="community-contributing-code-workflow"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Contribution workflow</h3></div></div></div>

<p>Code contributions to Neo4j are normally done via Github Pull Requests, following the workflow shown below.
Please check the <a class="link" href="community-contributing-code.html#community-contributing-code-pull-requests" title="Pull request checklist">pull request checklist</a> before sending off a pull request as well.</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">

Fork the appropriate Github repository.

</li><li class="listitem">

Create a new branch for your specific feature or fix.

</li><li class="listitem">

<a class="link" href="community-contributing-code.html#community-contributing-code-tests" title="Unit Tests">Write unit tests for your code</a>.

</li><li class="listitem">

<a class="link" href="community-contributing-code.html#community-contributing-code-code-style" title="Code Style">Write code</a>.

</li><li class="listitem">

Write appropriate Javadocs and <a class="link" href="community-docs.html" title="33.3. Writing Neo4j Documentation">Manual entries</a>.

</li><li class="listitem">

<a class="link" href="community-contributing-code.html#community-contributing-code-commit-messages" title="Commit messages">Commit changes</a>.

</li><li class="listitem">

<a class="link" href="community-contributing-code.html#community-contributing-code-pull-requests" title="Pull request checklist">Send pull request</a>.

</li></ol></div>
</section>
<section class="section" id="community-contributing-code-pull-requests"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Pull request checklist</h3></div></div></div>

<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">

<a class="link" href="community-contributing-code.html#community-contributing-code-intro-the-fast-track" title="Signing the CLA">Sign the CLA</a>.

</li><li class="listitem">

<a class="link" href="community-contributing-code.html#community-contributing-code-no-merging" title="Don’t merge, use rebase instead!">Ensure that you have not added any merge commits</a>.

</li><li class="listitem">

<a class="link" href="community-contributing-code.html#community-contributing-code-single-commit" title="Single commit">Squash all your changes into a single commit</a>.

</li><li class="listitem">

<a class="link" href="community-contributing-code.html#community-contributing-code-no-merging" title="Don’t merge, use rebase instead!">Rebase against the latest master</a>.

</li><li class="listitem">

<a class="link" href="community-contributing-code.html#community-contributing-code-tests" title="Unit Tests">Run all relevant tests</a>.

</li><li class="listitem">

Send the request!

</li></ol></div>
</section>
<section class="section" id="community-contributing-code-tests"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Unit Tests</h3></div></div></div>

<p>You have a much higher chance of getting your changes accepted if you supply us with small, readable unit tests covering the code you’ve written.
Also, make sure your code doesn’t break any existing tests.
<span class="emphasis"><em>Note that there may be downstream components that need to be tested as well,</em></span> depending on what you change.</p>
<p>To run tests, use Maven rather than your IDE to ensure others can replicate your test run.
The command for running Neo4j tests in any given component is <code class="literal">mvn clean validate</code>.</p>
<p>The general structure of a unit test looks like this:</p>
<pre class="programlisting" data-lang="java">@Test
public void myTest()
{
    // Given
    [ Setup code here, setting the stage and parameters that are relevant ]

    // When
    [ The code that is being tested, preferrably just one line, like calling a method ]

    // Then
    [ Assertions on the result ]
}</pre>
</section>
<section class="section" id="community-contributing-code-code-style"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Code Style</h3></div></div></div>

<p>The Neo4j Code style is maintained on GitHub in <a class="ulink" href="https://github.com/neo4j/neo4j.github.com/tree/master/code-style" target="_blank">styles for the different IDEs</a>.</p>
</section>
<section class="section" id="community-contributing-code-commit-messages"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Commit messages</h3></div></div></div>

<p>Please take some care in providing good commit messages.
Use your common sense. In particular:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">

Use <span class="emphasis"><em>english</em></span>. This includes proper punctuation and correct spelling.
  Commit messages are supposed to convey some information at a glance — they’re not a chat room.

</li><li class="listitem">

Remember that a commit is a <span class="emphasis"><em>changeset</em></span>, which describes a cohesive set of changes across potentially many files.
  Try to group every commit as a logical change.
  Explain what it changes.
  If you have to redo work, you might want to clean up your commit log before doing a pull request.

</li><li class="listitem">
<p class="simpara">
If you fix a bug or an issue that’s related to a ticket, then refer to the ticket in the message.
  For example, <span class="emphasis"><em>`‘Added this and then changed that. This fixes #14.’'</em></span>
  Just mentioning #xxx in the commit will connect  it to the GitHub issue with that number, see <a class="ulink" href="https://github.com/blog/831-issues-2-0-the-next-generation" target="_blank">GitHub issues</a>.
  Any of these synonyms will also work:
</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">

fixes #xxx

</li><li class="listitem">

fixed #xxx

</li><li class="listitem">

fix #xxx

</li><li class="listitem">

closes #xxx

</li><li class="listitem">

close #xxx

</li><li class="listitem">

closed #xxx.

</li></ul></div>
</li><li class="listitem">

Remember to convey <span class="emphasis"><em>intent</em></span>.
  Don’t be too brief but don’t provide too much detail, either.
  That’s what <code class="literal">git diff</code> is for.

</li></ul></div>
</section>
<section class="section" id="community-contributing-code-intro-the-fast-track"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Signing the CLA</h3></div></div></div>

<p>One crucial aspect of contributing is the <a class="link" href="cla.html" title="33.1. Contributor License Agreement">Contributor License Agreement</a>.
In short: make sure to sign the CLA, or the Neo4j project won’t be able to accept your contribution.</p>
</section>
<section class="section" id="community-contributing-code-no-merging"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Don’t merge, use rebase instead!</h3></div></div></div>

<p>Because we would like each contribution to be contained in a single commit, merge commits are not allowed inside a pull request.
Merges are messy, and should only be done when necessary, eg. when merging a branch into master to remember where the code came from.</p>
<p>If you want to update your development branch to incorporate the latest changes from master, use git rebase.
For details on how to use rebase, see Git manual on rebase: <a class="ulink" href="http://git-scm.com/book/en/Git-Branching-Rebasing" target="_blank">the Git Manual</a>.</p>
</section>
<section class="section" id="community-contributing-code-single-commit"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Single commit</h3></div></div></div>

<p>If you have multiple commits, you should squash them into a single one for the pull request, unless there is some extraordinary reason not to.
Keeping your changes in a single commit makes the commit history easier to read, it also makes it easy to revert and move features around.</p>
<p>One way to do this is to, while standing on your local branch with your changes, create a new branch and then interactively rebase your commits into a single one.</p>
<p><strong>Interactive rebasing with Git. </strong>
</p><pre class="programlisting" data-lang="shell"># On branch mychanges
git checkout -b mychanges-clean

# Assuming you have 4 commits, rebase the last four commits interactively:
git rebase -i HEAD~4

# In the dialog git gives you, keep your first commit, and squash all others into it.
# Then reword the commit description to accurately depict what your commit does.
# If applicable, include any issue numbers like so: #760</pre><p>
</p>
<p>For more details, see the git manual: <a class="ulink" href="http://git-scm.com/book/en/Git-Tools-Rewriting-History#Changing-Multiple-Commit-Messages" target="_blank">http://git-scm.com/book/en/Git-Tools-Rewriting-History#Changing-Multiple-Commit-Messages</a></p>
<p>If you are asked to modify parts of your code, work in your original branch (the one with multiple commits), and follow the above process to create a fixed single commit.</p>
</section>
</section>

 <footer>
   <p>
   © Copyright
   <a href="http://creativecommons.org/licenses/by-sa/3.0/"><img id="copyright-img" src="images/by-sa.svg" alt="CC BY-SA 3.0" title="Creative Commons Attribution-ShareAlike 3.0"></a>
   <a href="http://neo4j.com/"><img id="neotech-logo" src="images/neo-technology.svg" alt="Neo Technology"></a>
   </p>
 </footer>
  <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    //Allow Linker
    ga('create', 'UA-1192232-34','auto', {'allowLinker': true});
    ga('send', 'pageview');

    // Load the plugin.
    ga('require', 'linker');

    // Define which domains to autoLink.
    ga('linker:autoLink', ['neo4j.org','neo4j.com','neotechnology.com','graphdatabases.com','graphconnect.com']);
  </script>

</div></body></html>