<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>8.1. What is Cypher? -  - The Neo4j Manual v2.3-SNAPSHOT</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="prev" href="cypher-intro.html" title="Chapter 8. Introduction" /><link rel="next" href="query-updating.html" title="8.2. Updating the graph" /><link rel="copyright" href="ln-d5e39.html" title="License: Creative Commons 3.0" /><meta name="Section-title" content="8.1. What is Cypher?" /><script type="text/javascript">
      //The id for tree cookie
      var treeCookieId = "treeview-77944";
      var language = "en";
      var w = new Object();
      //Localization
      txt_filesfound = 'Results';
      txt_enter_at_least_1_char = "You must enter at least one character.";
      txt_browser_not_supported = "JavaScript is disabled on your browser. Please enable JavaScript to enjoy all the features of this site.";
      txt_please_wait = "Please wait. Search in progress...";
      txt_results_for = "Results for: ";
    </script><meta name="viewport" content="width=device-width, initial-scale=1" /><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" /><link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/redmond/jquery-ui.min.css" /><link rel="stylesheet" type="text/css" href="common/jquery/treeview/jquery.treeview.css" /><link rel="stylesheet" type="text/css" href="common/css/positioning.css" /><link rel="stylesheet" type="text/css" href="common/css/style.css" /><!--[if IE]>
  <link rel="stylesheet" type="text/css" href="../common/css/ie.css"/>
  <![endif]--><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" /><script type="text/javascript" src="common/browserDetect.js"></script><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script><script type="text/javascript" src="common/jquery/jquery.highlight.js"></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script type="text/javascript" src="common/jquery/treeview/jquery.treeview.min.js"></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.1/jquery.scrollTo.min.js"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script><script type="text/javascript" src="common/main.js"></script><script type="text/javascript" src="search/l10n.js"></script><script type="text/javascript" src="search/htmlFileInfoList.js"></script><script type="text/javascript" src="common/search.js"></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"></script><script type="text/javascript" src="search/index-1.js"></script><script type="text/javascript" src="search/index-2.js"></script><script type="text/javascript" src="search/index-3.js"></script>


<!-- favicon -->

<link rel="shortcut icon" href="common/images/favicon.ico" />

<!-- fonts -->

<link href='//fonts.googleapis.com/css?family=Ubuntu+Mono|PT+Sans:400,700,400italic' rel='stylesheet' type='text/css' />

<!-- Syntax Highlighter -->

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/codemirror.min.css" />
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/theme/neo.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/codemirror.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/addon/runmode/runmode.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/javascript/javascript.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/shell/shell.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/sql/sql.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/xml/xml.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/clike/clike.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/cypher/cypher.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/properties/properties.min.js"></script>

<script src="js/colorize.js"></script>
 
<script type="text/javascript">
  $(function (){
    CodeMirror.colorize();
  });
</script>

<!-- Section table of contents -->

<script type="text/javascript" src="js/toc.js"></script>

<!-- Cypher Console -->

<script type="text/javascript" src="js/console.js"></script>
<script type="text/javascript" src="js/cypherconsole.js"></script>

<!-- Version -->
<script type="text/javascript" src="js/version.js"></script>
<script type="text/javascript" src="js/versionswitcher.js"></script>

<!-- Discuss -->
<script type="text/javascript" src="js/mutate.min.js"></script>
<script type="text/javascript" src="js/disqus.js"></script>

<script type="text/javascript">
    /*@cc_on @*/
    /*@
     $( '#content' ).addClass( 'internet-explorer' );
     @*/
</script>


</head><body><div id="header"><a href="index.html" id="logo"><img src="common/images/logo-neo4j.svg" alt="" /></a><h1><span id="book-title">The Neo4j Manual v2.3-SNAPSHOT</span><span>8.1. What is Cypher?</span></h1><div id="navheader"><!----><div id="navLinks"><span><a id="showHideButton" href="#" class="pointLeft" tabindex="5" title="Show/Hide TOC tree"><i class="fa fa-columns"></i> Contents
            </a></span><span><a accesskey="p" id="navLinkPrevious" tabindex="5" href="cypher-intro.html"><i class="fa fa-arrow-circle-left"></i> Prev</a></span><span><a accesskey="u" id="navLinkUp" tabindex="5" href="cypher-intro.html">Up <i class="fa fa-arrow-circle-up"></i></a></span><span><a accesskey="n" id="navLinkNext" tabindex="5" href="query-updating.html">Next <i class="fa fa-arrow-circle-right"></i></a></span></div></div></div><div id="content"><section class="section" id="cypher-introduction"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both">8.1. What is Cypher?</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="cypher-introduction.html#_introduction">Introduction</a></span></li><li><span class="section"><a href="cypher-introduction.html#cypher-structure">Structure</a></span></li></ul></div>

<section class="section" id="_introduction"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Introduction</h3></div></div></div>

<p><span class="emphasis"><em>Cypher</em></span> is a declarative graph query language that allows for expressive and efficient querying and updating of the graph store.
Cypher is a relatively simple  but still very powerful language.
Very complicated database queries can easily be expressed through Cypher.
This allows you to focus on your domain instead of getting lost in database access.</p>
<p>Cypher is designed to be a humane query language, suitable for both developers and (importantly, we think) operations professionals.
Our guiding goal is to make the simple things easy, and the complex things possible.
Its constructs are based on English prose and neat iconography which helps to make queries more self-explanatory.
We have tried to optimize the language for reading and not for writing.</p>
<p>Being a declarative language, Cypher focuses on the clarity of expressing <span class="emphasis"><em>what</em></span> to retrieve from a graph, not on <span class="emphasis"><em>how</em></span> to retrieve it.
This is in contrast to imperative languages like Java, scripting languages like <a class="ulink" href="http://gremlin.tinkerpop.com" target="_blank">Gremlin</a>, and <a class="ulink" href="https://github.com/neo4jrb/neo4j/" target="_blank">the JRuby Neo4j bindings</a>.
This approach makes query optimization an implementation detail instead of burdening the user with it and requiring her to update all traversals just because the physical database structure has changed (new indexes etc.).</p>
<p>Cypher is inspired by a number of different approaches and builds upon established practices for expressive querying.
Most of the keywords like <code class="literal">WHERE</code> and <code class="literal">ORDER BY</code> are inspired by <a class="ulink" href="http://en.wikipedia.org/wiki/SQL" target="_blank">SQL</a>.
Pattern matching borrows expression approaches from <a class="ulink" href="http://en.wikipedia.org/wiki/SPARQL" target="_blank">SPARQL</a>.
Some of the collection semantics have been borrowed from languages such as Haskell and Python.</p>
</section>
<section class="section" id="cypher-structure"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Structure</h3></div></div></div>

<p>Cypher borrows its structure from SQL — queries are built up using various clauses.</p>
<p>Clauses are chained together, and the they feed intermediate result sets between each other.
For example, the matching identifiers from one <code class="literal">MATCH</code> clause will be the context that the next clause exists in.</p>
<p>The query language is comprised of several distinct clauses.
You can read more details about them later in the manual.</p>
<p>Here are a few clauses used to read from the graph:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">

<code class="literal">MATCH</code>: The graph pattern to match.
  This is the most common way to get data from the graph.

</li><li class="listitem">

<code class="literal">WHERE</code>: Not a clause in it’s own right, but rather part of <code class="literal">MATCH</code>, <code class="literal">OPTIONAL MATCH</code> and <code class="literal">WITH</code>.
  Adds constraints to a pattern, or filters the intermediate result passing through <code class="literal">WITH</code>.

</li><li class="listitem">

<code class="literal">RETURN</code>: What to return.

</li></ul></div>
<p>Let’s see <code class="literal">MATCH</code> and <code class="literal">RETURN</code> in action.</p>
<p>Imagine an example graph like the following one:</p>
<div class="figure" id="d5e4975"><p class="title"><strong>Figure 8.1. Example Graph</strong></p><div class="figure-contents">
<a class="ulink" href="images/Example-Graph-cypher-intro.svg" target="_blank">
<span class="inlinemediaobject"><img src="images/Example-Graph-cypher-intro.svg" alt="Example-Graph-cypher-intro.svg" /></span>
</a>
</div></div>
<p>For example, here is a query which finds a user called John and John’s friends (though not his direct friends) before returning both John and any friends-of-friends that are found.</p>
<pre class="programlisting" data-lang="cypher">MATCH (john {name: 'John'})-[:friend]-&gt;()-[:friend]-&gt;(fof)
RETURN john.name, fof.name</pre>
<p>Resulting in:</p>
<div class="queryresult table"><table cellspacing="0" cellpadding="0"><thead><tr><th>john.name</th><th>fof.name</th></tr></thead><tfoot><tr><th colspan="2">2 rows</th></tr></tfoot><tbody><tr><td><p><code class="literal">"John"</code></p></td><td><p><code class="literal">"Maria"</code></p></td></tr><tr><td><p><code class="literal">"John"</code></p></td><td><p><code class="literal">"Steve"</code></p></td></tr></tbody></table></div>
<p>Next up we will add filtering to set more parts in motion:</p>
<p>We take a list of user names and find all nodes with names from this list, match their friends and return only those followed users who have a <code class="literal">name</code> property starting with <code class="literal">S</code>.</p>
<pre class="programlisting" data-lang="cypher">MATCH (user)-[:friend]-&gt;(follower)
WHERE user.name IN ['Joe', 'John', 'Sara', 'Maria', 'Steve'] AND follower.name =~ 'S.*'
RETURN user.name, follower.name</pre>
<p>Resulting in:</p>
<div class="queryresult table"><table cellspacing="0" cellpadding="0"><thead><tr><th>user.name</th><th>follower.name</th></tr></thead><tfoot><tr><th colspan="2">2 rows</th></tr></tfoot><tbody><tr><td><p><code class="literal">"John"</code></p></td><td><p><code class="literal">"Sara"</code></p></td></tr><tr><td><p><code class="literal">"Joe"</code></p></td><td><p><code class="literal">"Steve"</code></p></td></tr></tbody></table></div>
<p>And here are examples of clauses that are used to update the graph:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">

<code class="literal">CREATE</code> (and <code class="literal">DELETE</code>): Create (and delete) nodes and relationships.

</li><li class="listitem">

<code class="literal">SET</code> (and <code class="literal">REMOVE</code>): Set values to properties and add labels on nodes using <code class="literal">SET</code> and use <code class="literal">REMOVE</code> to remove them.

</li><li class="listitem">

<code class="literal">MERGE</code>: Match existing or create new nodes and patterns. This is especially useful together with uniqueness constraints.

</li></ul></div>
<p>For more Cypher examples, see <a class="xref" href="data-modeling-examples.html" title="Chapter 5. Basic Data Modeling Examples">Chapter 5, <em>Basic Data Modeling Examples</em></a> as well as the rest of the Cypher part with details on the language.
To use Cypher from Java, see <a class="xref" href="tutorials-cypher-java.html" title="35.14. Execute Cypher Queries from Java">Section 35.14, “Execute Cypher Queries from Java”</a>.
To take your first steps with Cypher, see <a class="xref" href="cypher-getting-started.html" title="Chapter 3. Introduction to Cypher">Chapter 3, <em>Introduction to Cypher</em></a>.</p>
</section>
</section>

 <footer>
   <p>
   © Copyright
   <a href="http://creativecommons.org/licenses/by-sa/3.0/"><img id="copyright-img" src="images/by-sa.svg" alt="CC BY-SA 3.0" title="Creative Commons Attribution-ShareAlike 3.0"></a>
   <a href="http://neo4j.com/"><img id="neotech-logo" src="images/neo-technology.svg" alt="Neo Technology"></a>
   </p>
 </footer>
  <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    //Allow Linker
    ga('create', 'UA-1192232-34','auto', {'allowLinker': true});
    ga('send', 'pageview');

    // Load the plugin.
    ga('require', 'linker');

    // Define which domains to autoLink.
    ga('linker:autoLink', ['neo4j.org','neo4j.com','neotechnology.com','graphdatabases.com','graphconnect.com']);
  </script>

</div></body></html>