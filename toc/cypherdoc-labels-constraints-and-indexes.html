<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>3.7. Labels, Constraints and Indexes -  - The Neo4j Manual v2.3-SNAPSHOT</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="prev" href="cypherdoc-utilizing-data-structures.html" title="3.6. Utilizing Data Structures" /><link rel="next" href="cypherdoc-loading-data.html" title="3.8. Loading Data" /><link rel="copyright" href="ln-d5e39.html" title="License: Creative Commons 3.0" /><meta name="Section-title" content="3.7. Labels, Constraints and Indexes" /><script type="text/javascript">
      //The id for tree cookie
      var treeCookieId = "treeview-77944";
      var language = "en";
      var w = new Object();
      //Localization
      txt_filesfound = 'Results';
      txt_enter_at_least_1_char = "You must enter at least one character.";
      txt_browser_not_supported = "JavaScript is disabled on your browser. Please enable JavaScript to enjoy all the features of this site.";
      txt_please_wait = "Please wait. Search in progress...";
      txt_results_for = "Results for: ";
    </script><meta name="viewport" content="width=device-width, initial-scale=1" /><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" /><link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/redmond/jquery-ui.min.css" /><link rel="stylesheet" type="text/css" href="common/jquery/treeview/jquery.treeview.css" /><link rel="stylesheet" type="text/css" href="common/css/positioning.css" /><link rel="stylesheet" type="text/css" href="common/css/style.css" /><!--[if IE]>
  <link rel="stylesheet" type="text/css" href="../common/css/ie.css"/>
  <![endif]--><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" /><script type="text/javascript" src="common/browserDetect.js"></script><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script><script type="text/javascript" src="common/jquery/jquery.highlight.js"></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script type="text/javascript" src="common/jquery/treeview/jquery.treeview.min.js"></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.1/jquery.scrollTo.min.js"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script><script type="text/javascript" src="common/main.js"></script><script type="text/javascript" src="search/l10n.js"></script><script type="text/javascript" src="search/htmlFileInfoList.js"></script><script type="text/javascript" src="common/search.js"></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"></script><script type="text/javascript" src="search/index-1.js"></script><script type="text/javascript" src="search/index-2.js"></script><script type="text/javascript" src="search/index-3.js"></script>


<!-- favicon -->

<link rel="shortcut icon" href="common/images/favicon.ico" />

<!-- fonts -->

<link href='//fonts.googleapis.com/css?family=Ubuntu+Mono|PT+Sans:400,700,400italic' rel='stylesheet' type='text/css' />

<!-- Syntax Highlighter -->

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/codemirror.min.css" />
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/theme/neo.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/codemirror.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/addon/runmode/runmode.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/javascript/javascript.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/shell/shell.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/sql/sql.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/xml/xml.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/clike/clike.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/cypher/cypher.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.5.0/mode/properties/properties.min.js"></script>

<script src="js/colorize.js"></script>
 
<script type="text/javascript">
  $(function (){
    CodeMirror.colorize();
  });
</script>

<!-- Section table of contents -->

<script type="text/javascript" src="js/toc.js"></script>

<!-- Cypher Console -->

<script type="text/javascript" src="js/console.js"></script>
<script type="text/javascript" src="js/cypherconsole.js"></script>

<!-- Version -->
<script type="text/javascript" src="js/version.js"></script>
<script type="text/javascript" src="js/versionswitcher.js"></script>

<!-- Discuss -->
<script type="text/javascript" src="js/mutate.min.js"></script>
<script type="text/javascript" src="js/disqus.js"></script>

<script type="text/javascript">
    /*@cc_on @*/
    /*@
     $( '#content' ).addClass( 'internet-explorer' );
     @*/
</script>


</head><body><div id="header"><a href="index.html" id="logo"><img src="common/images/logo-neo4j.svg" alt="" /></a><h1><span id="book-title">The Neo4j Manual v2.3-SNAPSHOT</span><span>3.7. Labels, Constraints and Indexes</span></h1><div id="navheader"><!----><div id="navLinks"><span><a id="showHideButton" href="#" class="pointLeft" tabindex="5" title="Show/Hide TOC tree"><i class="fa fa-columns"></i> Contents
            </a></span><span><a accesskey="p" id="navLinkPrevious" tabindex="5" href="cypherdoc-utilizing-data-structures.html"><i class="fa fa-arrow-circle-left"></i> Prev</a></span><span><a accesskey="u" id="navLinkUp" tabindex="5" href="cypher-getting-started.html">Up <i class="fa fa-arrow-circle-up"></i></a></span><span><a accesskey="n" id="navLinkNext" tabindex="5" href="cypherdoc-loading-data.html">Next <i class="fa fa-arrow-circle-right"></i></a></span></div></div></div><div id="content"><section class="section" id="cypherdoc-labels-constraints-and-indexes"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both">3.7. Labels, Constraints and Indexes</h2></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="cypherdoc-labels-constraints-and-indexes.html#_using_constraints">Using Constraints</a></span></li><li><span class="section"><a href="cypherdoc-labels-constraints-and-indexes.html#_using_indexes">Using indexes</a></span></li><li><span class="section"><a href="cypherdoc-labels-constraints-and-indexes.html#_labels">Labels</a></span></li><li><span class="section"><a href="cypherdoc-labels-constraints-and-indexes.html#_related_content">Related Content</a></span></li></ul></div>

<p>Labels are a convenient way to group nodes together.
They are used to restrict queries, define constraints and create indexes.</p>
<section class="section" id="_using_constraints"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Using Constraints</h3></div></div></div>

<p>You can also specify unique constraints that guarantee uniqueness of a certain property on nodes with a specific label.</p>
<p>These constraints are also used by the <code class="literal">MERGE</code> clause to make certain that a node only exists once.</p>
<p>The following will give an example of how to use labels and add constraints and indexes to them.
Let’s start out adding a constraint — in this case we decided that all <code class="literal">Movie</code> node <code class="literal">title</code>s should be unique.</p>
<pre class="programlisting" data-lang="cypher">CREATE CONSTRAINT ON (movie:Movie) ASSERT movie.title IS UNIQUE</pre>
<p class="cypherdoc-console"></p>
<p>Note that adding the unique constraint will add an index on that property, so we won’t do that separately.
If we drop a constraint, and still want an index on the same property, we have to create such an index.</p>
<p>Constraints can be added after a label is already in use, but that requires that the existing data complies with the constraints.</p>
</section>
<section class="section" id="_using_indexes"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Using indexes</h3></div></div></div>

<p>For a graph query to run fast, you don’t need indexes, you only need them to find your starting points.
The main reason for using indexes in a graph database is to find the starting points in the graph as fast as possible.
After the initial index seek you rely on in-graph structures and the first class citizenship of relationships in the graph database to achieve high performance.</p>
<p>In this case we want an index to speed up finding actors by name in the database:</p>
<pre class="programlisting" data-lang="cypher">CREATE INDEX ON :Actor(name)</pre>
<p>Indexes can be added at any time.
Note that it will take some time for an index to come online when there’s existing data.</p>
<p>Now, let’s add some data.</p>
<pre class="programlisting" data-lang="cypher">CREATE (actor:Actor { name:"Tom Hanks" }),(movie:Movie { title:'Sleepless IN Seattle' }),
  (actor)-[:ACTED_IN]-&gt;(movie);</pre>
<p>Normally you don’t specify indexes when querying for data.
They will be used automatically.
This means we can simply look up the Tom Hanks node, and the index will kick in behind the scenes to boost performance.</p>
<pre class="programlisting" data-lang="cypher">MATCH (actor:Actor { name: "Tom Hanks" })
RETURN actor;</pre>
</section>
<section class="section" id="_labels"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Labels</h3></div></div></div>

<p>Now let’s say we want to add another label for a node.
Here’s how to do that:</p>
<pre class="programlisting" data-lang="cypher">MATCH (actor:Actor { name: "Tom Hanks" })
SET actor :American;</pre>
<p>To remove a label from nodes, this is what to do:</p>
<pre class="programlisting" data-lang="cypher">MATCH (actor:Actor { name: "Tom Hanks" })
REMOVE actor:American;</pre>
</section>
<section class="section" id="_related_content"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title">Related Content</h3></div></div></div>

<p>For more information on labels and related topics, see:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">

<a class="xref" href="graphdb-neo4j.html#graphdb-neo4j-labels" title="Labels">the section called “Labels”</a>

</li><li class="listitem">

<a class="xref" href="cypher-schema.html" title="Chapter 14. Schema">Chapter 14, <em>Schema</em></a>

</li><li class="listitem">

<a class="xref" href="query-constraints.html" title="14.2. Constraints">Section 14.2, “Constraints”</a>

</li><li class="listitem">

<a class="xref" href="query-schema-index.html" title="14.1. Indexes">Section 14.1, “Indexes”</a>

</li><li class="listitem">

<a class="xref" href="query-using.html" title="10.8. Using">Section 10.8, “Using”</a>

</li><li class="listitem">

<a class="xref" href="query-set.html" title="12.3. Set">Section 12.3, “Set”</a>

</li><li class="listitem">

<a class="xref" href="query-remove.html" title="12.5. Remove">Section 12.5, “Remove”</a>

</li></ul></div>
</section>
</section>

 <footer>
   <p>
   © Copyright
   <a href="http://creativecommons.org/licenses/by-sa/3.0/"><img id="copyright-img" src="images/by-sa.svg" alt="CC BY-SA 3.0" title="Creative Commons Attribution-ShareAlike 3.0"></a>
   <a href="http://neo4j.com/"><img id="neotech-logo" src="images/neo-technology.svg" alt="Neo Technology"></a>
   </p>
 </footer>
  <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    //Allow Linker
    ga('create', 'UA-1192232-34','auto', {'allowLinker': true});
    ga('send', 'pageview');

    // Load the plugin.
    ga('require', 'linker');

    // Define which domains to autoLink.
    ga('linker:autoLink', ['neo4j.org','neo4j.com','neotechnology.com','graphdatabases.com','graphconnect.com']);
  </script>

</div></body></html>